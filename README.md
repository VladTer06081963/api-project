# Express Server Project

–ü—Ä–æ—Å—Ç–æ–π HTTP —Å–µ—Ä–≤–µ—Ä –Ω–∞ Express.js —Å –±–∞–∑–æ–≤—ã–º–∏ API —Ä–æ—É—Ç–∞–º–∏ –∏ –ø–æ–¥–¥–µ—Ä–∂–∫–æ–π —Å—Ç–∞—Ç–∏—á–µ—Å–∫–∏—Ö —Ñ–∞–π–ª–æ–≤.

## üöÄ –ë—ã—Å—Ç—Ä—ã–π —Å—Ç–∞—Ä—Ç

### –£—Å—Ç–∞–Ω–æ–≤–∫–∞ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π
```bash
npm install
```

### –ó–∞–ø—É—Å–∫ —Å–µ—Ä–≤–µ—Ä–∞
```bash
npm start
```

–°–µ—Ä–≤–µ—Ä –∑–∞–ø—É—Å—Ç–∏—Ç—Å—è –Ω–∞ –ø–æ—Ä—Ç—É 3000.

## üìã –î–æ—Å—Ç—É–ø–Ω—ã–µ —Å–∫—Ä–∏–ø—Ç—ã

- `npm start` - –ó–∞–ø—É—Å–∫ Express —Å–µ—Ä–≤–µ—Ä–∞
- `npm run server` - –ê–ª—å—Ç–µ—Ä–Ω–∞—Ç–∏–≤–Ω—ã–π —Å–ø–æ—Å–æ–± –∑–∞–ø—É—Å–∫–∞ —Å–µ—Ä–≤–µ—Ä–∞
- `npm run dev` - –ó–∞–ø—É—Å–∫ –æ—Ä–∏–≥–∏–Ω–∞–ª—å–Ω–æ–≥–æ Node.js —Å–∫—Ä–∏–ø—Ç–∞

## üåê API Endpoints

### JSON Endpoints (–ø–æ–¥ /api)
- **GET /api/** - –ì–ª–∞–≤–Ω–∞—è —Å—Ç—Ä–∞–Ω–∏—Ü–∞ (JSON)
- **GET /api/status** - –°—Ç–∞—Ç—É—Å —Å–µ—Ä–≤–µ—Ä–∞ (JSON)
- **GET /api/hello** - –ü—Ä–∏–º–µ—Ä API (JSON)

### Info Endpoints (–¥–∏–Ω–∞–º–∏—á–µ—Å–∫–∏–µ –¥–∞–Ω–Ω—ã–µ –ø–æ–¥ /api)
- **GET /api/info/port** - –¢–µ–∫—É—â–∏–π –ø–æ—Ä—Ç —Å–µ—Ä–≤–µ—Ä–∞
- **GET /api/info/status** - –°—Ç–∞—Ç—É—Å —Å–µ—Ä–≤–µ—Ä–∞
- **GET /api/info/uptime** - –í—Ä–µ–º—è –∑–∞–ø—É—Å–∫–∞ —Å–µ—Ä–≤–µ—Ä–∞

### HTML Endpoints (–¥–ª—è htmx)
- **GET /htmx/** - –ì–ª–∞–≤–Ω–∞—è —Å—Ç—Ä–∞–Ω–∏—Ü–∞ (HTML –¥–ª—è htmx)
- **GET /htmx/status** - –°—Ç–∞—Ç—É—Å —Å–µ—Ä–≤–µ—Ä–∞ (HTML –¥–ª—è htmx)
- **GET /htmx/api/hello** - –ü—Ä–∏–º–µ—Ä API (HTML –¥–ª—è htmx)
- **GET /htmx/nonexistent** - –¢–µ—Å—Ç 404 (HTML –¥–ª—è htmx)

### –°—Ç–∞—Ç–∏—á–µ—Å–∫–∏–µ —Ñ–∞–π–ª—ã
- **GET /** - –ì–ª–∞–≤–Ω–∞—è —Å—Ç—Ä–∞–Ω–∏—Ü–∞ (index.html)

**–ü—Ä–∏–º–µ—Ä JSON –æ—Ç–≤–µ—Ç–∞ (GET /api/):**
```json
{
  "message": "–î–æ–±—Ä–æ –ø–æ–∂–∞–ª–æ–≤–∞—Ç—å –≤ Express —Å–µ—Ä–≤–µ—Ä!",
  "status": "–°–µ—Ä–≤–µ—Ä —Ä–∞–±–æ—Ç–∞–µ—Ç –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ",
  "timestamp": "2025-10-25T20:58:31.699Z",
  "version": "1.0.0"
}
```

**–ü—Ä–∏–º–µ—Ä HTML –æ—Ç–≤–µ—Ç–∞ (GET /htmx/):**
```html
<h4>–û—Ç–≤–µ—Ç –æ—Ç /:</h4>
<pre>{
  "message": "–î–æ–±—Ä–æ –ø–æ–∂–∞–ª–æ–≤–∞—Ç—å –≤ Express —Å–µ—Ä–≤–µ—Ä!",
  "status": "–°–µ—Ä–≤–µ—Ä —Ä–∞–±–æ—Ç–∞–µ—Ç –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ",
  "timestamp": "2025-10-25T20:58:31.699Z",
  "version": "1.0.0"
}</pre>
<p><strong>HTTP Status:</strong> 200</p>
```

## üìÅ –°—Ç–∞—Ç–∏—á–µ—Å–∫–∏–µ —Ñ–∞–π–ª—ã

–°–µ—Ä–≤–µ—Ä –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç —Å—Ç–∞—Ç–∏—á–µ—Å–∫–∏–µ —Ñ–∞–π–ª—ã –∏–∑ –ø–∞–ø–∫–∏ `public/` —Å –∫—ç—à–∏—Ä–æ–≤–∞–Ω–∏–µ–º –Ω–∞ 1 –≥–æ–¥ –¥–ª—è —É–ª—É—á—à–µ–Ω–∏—è –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏. –î–æ—Å—Ç—É–ø–Ω—ã–µ —Å—Ç—Ä–∞–Ω–∏—Ü—ã:
- `http://localhost:3000/index.html` ‚Äî –ì–ª–∞–≤–Ω–∞—è —Å—Ç—Ä–∞–Ω–∏—Ü–∞ —Å —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ–º API —á–µ—Ä–µ–∑ HTMX
- `http://localhost:3000/curl-demo.html` ‚Äî –î–µ–º–æ–Ω—Å—Ç—Ä–∞—Ü–∏—è curl –∫–æ–º–∞–Ω–¥ –∏ –∏—Ö –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ
- `http://localhost:3000/curl-jq-demo.html` ‚Äî –ü—Ä–∏–º–µ—Ä—ã –æ–±—Ä–∞–±–æ—Ç–∫–∏ JSON —Å –ø–æ–º–æ—â—å—é curl + jq

## ‚ö° htmx –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è

–ü—Ä–æ–µ–∫—Ç –∏—Å–ø–æ–ª—å–∑—É–µ—Ç htmx –¥–ª—è –¥–∏–Ω–∞–º–∏—á–µ—Å–∫–æ–≥–æ –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è HTML –±–µ–∑ JavaScript. htmx –ø–æ–∑–≤–æ–ª—è–µ—Ç –æ—Ç–ø—Ä–∞–≤–ª—è—Ç—å AJAX-–∑–∞–ø—Ä–æ—Å—ã –ø—Ä—è–º–æ –∏–∑ HTML-–∞—Ç—Ä–∏–±—É—Ç–æ–≤:

- `hx-get` - URL –¥–ª—è GET-–∑–∞–ø—Ä–æ—Å–∞
- `hx-target` - —ç–ª–µ–º–µ–Ω—Ç –¥–ª—è –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è
- `hx-swap` - —Å–ø–æ—Å–æ–± –≤—Å—Ç–∞–≤–∫–∏ (–Ω–∞–ø—Ä–∏–º–µ—Ä, innerHTML)

–≠—Ç–æ —É–ø—Ä–æ—â–∞–µ—Ç –≤–∑–∞–∏–º–æ–¥–µ–π—Å—Ç–≤–∏–µ —Å API –∏ —É–ª—É—á—à–∞–µ—Ç –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–∏–π –æ–ø—ã—Ç.

## üõ† –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –ø—Ä–æ–µ–∫—Ç–∞

```
cline-test/
‚îú‚îÄ‚îÄ server.js          # Express —Å–µ—Ä–≤–µ—Ä –∏ htmx —Ä–æ—É—Ç—ã
‚îú‚îÄ‚îÄ routes1.js         # JSON API —Ä–æ—É—Ç—ã
‚îú‚îÄ‚îÄ index.js           # –û—Ä–∏–≥–∏–Ω–∞–ª—å–Ω—ã–π Node.js —Å–∫—Ä–∏–ø—Ç
‚îú‚îÄ‚îÄ package.json       # –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è –ø—Ä–æ–µ–∫—Ç–∞
‚îú‚îÄ‚îÄ public/            # –°—Ç–∞—Ç–∏—á–µ—Å–∫–∏–µ —Ñ–∞–π–ª—ã
‚îÇ   ‚îú‚îÄ‚îÄ index.html     # –¢–µ—Å—Ç–æ–≤–∞—è HTML —Å—Ç—Ä–∞–Ω–∏—Ü–∞
‚îÇ   ‚îú‚îÄ‚îÄ script.js      # JavaScript (–ø—É—Å—Ç–æ–π)
‚îÇ   ‚îî‚îÄ‚îÄ style.css      # –°—Ç–∏–ª–∏
‚îú‚îÄ‚îÄ .github/           # GitHub –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è
‚îÇ   ‚îî‚îÄ‚îÄ chatmodes/     # Chat modes
‚îÇ       ‚îî‚îÄ‚îÄ ollama.chatmode.md
‚îú‚îÄ‚îÄ .DS_Store          # –°–∏—Å—Ç–µ–º–Ω—ã–π —Ñ–∞–π–ª macOS
‚îî‚îÄ‚îÄ README.md          # –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è
```

## üîß –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è

–°–µ—Ä–≤–µ—Ä –º–æ–∂–Ω–æ –Ω–∞—Å—Ç—Ä–æ–∏—Ç—å —á–µ—Ä–µ–∑ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è:

- `PORT` - –ø–æ—Ä—Ç —Å–µ—Ä–≤–µ—Ä–∞ (–ø–æ —É–º–æ–ª—á–∞–Ω–∏—é: 3000)

–°—Ç–∞—Ç–∏—á–µ—Å–∫–∏–µ —Ñ–∞–π–ª—ã –∫—ç—à–∏—Ä—É—é—Ç—Å—è –Ω–∞ 1 –≥–æ–¥ (Cache-Control: public, max-age=31536000) –¥–ª—è –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏–∏ –∑–∞–≥—Ä—É–∑–∫–∏.

–ü—Ä–∏–º–µ—Ä:
```bash
PORT=8080 npm start
```

## üìä –û–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–æ–∫

- **404 Not Found** - –¥–ª—è –Ω–µ—Å—É—â–µ—Å—Ç–≤—É—é—â–∏—Ö —Ä–æ—É—Ç–æ–≤
- **500 Internal Server Error** - –¥–ª—è —Å–µ—Ä–≤–µ—Ä–Ω—ã—Ö –æ—à–∏–±–æ–∫

## üß™ –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ

1. –ó–∞–ø—É—Å—Ç–∏—Ç–µ —Å–µ—Ä–≤–µ—Ä: `npm start`
2. –û—Ç–∫—Ä–æ–π—Ç–µ –±—Ä–∞—É–∑–µ—Ä –∏ –ø–µ—Ä–µ–π–¥–∏—Ç–µ –Ω–∞ `http://localhost:3000` (–≥–ª–∞–≤–Ω–∞—è —Å—Ç—Ä–∞–Ω–∏—Ü–∞ —Å HTMX)
3. –ü–µ—Ä–µ–π–¥–∏—Ç–µ –Ω–∞ `http://localhost:3000/curl-demo.html` –¥–ª—è –¥–µ–º–æ–Ω—Å—Ç—Ä–∞—Ü–∏–∏ curl –∫–æ–º–∞–Ω–¥
4. –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ HTML –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å –¥–ª—è —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è API —á–µ—Ä–µ–∑ HTMX (–∫–Ω–æ–ø–∫–∏ –æ—Ç–ø—Ä–∞–≤–ª—è—é—Ç AJAX-–∑–∞–ø—Ä–æ—Å—ã –∏ –æ–±–Ω–æ–≤–ª—è—é—Ç —Å—Ç—Ä–∞–Ω–∏—Ü—É –¥–∏–Ω–∞–º–∏—á–µ—Å–∫–∏)
5. –ò–ª–∏ –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ curl –¥–ª—è –ø—Ä—è–º–æ–≥–æ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è:

```bash
# –¢–µ—Å—Ç –≥–ª–∞–≤–Ω–æ–π —Å—Ç—Ä–∞–Ω–∏—Ü—ã (HTML)
curl http://localhost:3000/

# –¢–µ—Å—Ç JSON API
curl http://localhost:3000/api/hello

# –¢–µ—Å—Ç —Å—Ç–∞—Ç—É—Å–∞
curl http://localhost:3000/api/status

# –¢–µ—Å—Ç HTML –¥–ª—è htmx
curl http://localhost:3000/htmx/api/hello

# –¢–µ—Å—Ç 404
curl http://localhost:3000/nonexistent
```

## üîç –†–∞–±–æ—Ç–∞ —Å curl + jq

### –£—Å—Ç–∞–Ω–æ–≤–∫–∞ jq

jq ‚Äî —ç—Ç–æ –ª–µ–≥–∫–æ–≤–µ—Å–Ω—ã–π –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç –∫–æ–º–∞–Ω–¥–Ω–æ–π —Å—Ç—Ä–æ–∫–∏ –¥–ª—è –æ–±—Ä–∞–±–æ—Ç–∫–∏ JSON –¥–∞–Ω–Ω—ã—Ö. –î–ª—è –µ–≥–æ —É—Å—Ç–∞–Ω–æ–≤–∫–∏ –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ:

```bash
# macOS
brew install jq

# Ubuntu/Debian
sudo apt-get install jq

# Windows (—á–µ—Ä–µ–∑ Chocolatey)
choco install jq
```

### –ë–∞–∑–æ–≤—ã–µ –ø—Ä–∏–º–µ—Ä—ã

1. –§–æ—Ä–º–∞—Ç–∏—Ä–æ–≤–∞–Ω–Ω—ã–π –≤—ã–≤–æ–¥ JSON:
```bash
curl -s http://localhost:3000/api/ | jq '.'
```

2. –ò–∑–≤–ª–µ—á–µ–Ω–∏–µ –∫–æ–Ω–∫—Ä–µ—Ç–Ω–æ–≥–æ –ø–æ–ª—è:
```bash
curl -s http://localhost:3000/api/ | jq '.message'
```

3. –°–æ–∑–¥–∞–Ω–∏–µ –Ω–æ–≤–æ–≥–æ –æ–±—ä–µ–∫—Ç–∞:
```bash
curl -s http://localhost:3000/api/hello | jq '{ msg: .message, ver: .data.version }'
```

### –ü—Ä–æ–¥–≤–∏–Ω—É—Ç—ã–µ –ø—Ä–∏–º–µ—Ä—ã

1. –û–±—ä–µ–¥–∏–Ω–µ–Ω–∏–µ –¥–∞–Ω–Ω—ã—Ö –∏–∑ —Ä–∞–∑–Ω—ã—Ö –∑–∞–ø—Ä–æ—Å–æ–≤:
```bash
# –ü–æ–ª—É—á–∞–µ–º –ø–æ—Ä—Ç –∏ –¥–æ–±–∞–≤–ª—è–µ–º –µ–≥–æ –∫ –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–∏ –æ —Å—Ç–∞—Ç—É—Å–µ
PORT=$(curl -s http://localhost:3000/api/info/port | jq -r '.port')
curl -s http://localhost:3000/api/status | jq --arg port "$PORT" '. + {port: $port}'
```

2. –§–æ—Ä–º–∞—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –¥–∞—Ç—ã:
```bash
# –ò–∑–≤–ª–µ–∫–∞–µ–º –¥–∞—Ç—É –∏–∑ timestamp
curl -s http://localhost:3000/api/ | jq -r '.timestamp | split("T") | .[0]'
```

3. –í—ã–≤–æ–¥ –≤ CSV —Ñ–æ—Ä–º–∞—Ç:
```bash
# –ö–æ–Ω–≤–µ—Ä—Ç–∏—Ä—É–µ–º —Å—Ç–∞—Ç—É—Å –∏ uptime –≤ CSV
curl -s http://localhost:3000/api/status | jq -r '[.status, .uptime] | @csv'
```

### –ü–æ–ª–µ–∑–Ω—ã–µ —Ñ–∏–ª—å—Ç—Ä—ã jq

- `.` - –≤—ã–≤–µ—Å—Ç–∏ –≤–µ—Å—å JSON —Å —Ñ–æ—Ä–º–∞—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ–º
- `.field` - –ø–æ–ª—É—á–∏—Ç—å –∑–Ω–∞—á–µ–Ω–∏–µ –ø–æ–ª—è
- `{ new: .old }` - —Å–æ–∑–¥–∞—Ç—å –Ω–æ–≤—ã–π –æ–±—ä–µ–∫—Ç
- `select(—É—Å–ª–æ–≤–∏–µ)` - —Ñ–∏–ª—å—Ç—Ä–æ–≤–∞—Ç—å –ø–æ —É—Å–ª–æ–≤–∏—é
- `map(–≤—ã—Ä–∞–∂–µ–Ω–∏–µ)` - –ø—Ä–µ–æ–±—Ä–∞–∑–æ–≤–∞—Ç—å –º–∞—Å—Å–∏–≤
- `keys` - –ø–æ–ª—É—á–∏—Ç—å –∫–ª—é—á–∏ –æ–±—ä–µ–∫—Ç–∞
- `-r` –∏–ª–∏ `--raw-output` - –≤—ã–≤–æ–¥ –±–µ–∑ –∫–∞–≤—ã—á–µ–∫
- `--arg name value` - –ø–µ—Ä–µ–¥–∞—á–∞ –ø–µ—Ä–µ–º–µ–Ω–Ω–æ–π –≤ jq

–ü–æ–¥—Ä–æ–±–Ω–∞—è –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è –ø–æ jq –¥–æ—Å—Ç—É–ø–Ω–∞ –Ω–∞ [–æ—Ñ–∏—Ü–∏–∞–ª—å–Ω–æ–º —Å–∞–π—Ç–µ](https://stedolan.github.io/jq/).

## üìù –õ–∏—Ü–µ–Ω–∑–∏—è

ISC
